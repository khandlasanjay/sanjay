"use strict";function cov_1ngfzeoyt4(){var path="/home/manish/Practical_Programs/ts_crud/src/middleware/upload.ts";var hash="ed49cafd3a3d76ee14a4eed840e55c0f713cc9bb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/manish/Practical_Programs/ts_crud/src/middleware/upload.ts",statementMap:{"0":{start:{line:2,column:22},end:{line:4,column:1}},"1":{start:{line:3,column:4},end:{line:3,column:62}},"2":{start:{line:5,column:0},end:{line:5,column:62}},"3":{start:{line:6,column:17},end:{line:6,column:51}},"4":{start:{line:24,column:25},end:{line:31,column:2}},"5":{start:{line:26,column:8},end:{line:26,column:39}},"6":{start:{line:29,column:8},end:{line:29,column:56}},"7":{start:{line:32,column:15},end:{line:32,column:67}},"8":{start:{line:33,column:0},end:{line:33,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:56},end:{line:2,column:57}},loc:{start:{line:2,column:71},end:{line:4,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:17},end:{line:25,column:18}},loc:{start:{line:25,column:36},end:{line:27,column:5}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:14},end:{line:28,column:15}},loc:{start:{line:28,column:33},end:{line:30,column:5}},line:28}},branchMap:{"0":{loc:{start:{line:2,column:22},end:{line:4,column:1}},type:"binary-expr",locations:[{start:{line:2,column:23},end:{line:2,column:27}},{start:{line:2,column:31},end:{line:2,column:51}},{start:{line:2,column:56},end:{line:4,column:1}}],line:2},"1":{loc:{start:{line:3,column:11},end:{line:3,column:61}},type:"cond-expr",locations:[{start:{line:3,column:37},end:{line:3,column:40}},{start:{line:3,column:43},end:{line:3,column:61}}],line:3},"2":{loc:{start:{line:3,column:12},end:{line:3,column:33}},type:"binary-expr",locations:[{start:{line:3,column:12},end:{line:3,column:15}},{start:{line:3,column:19},end:{line:3,column:33}}],line:3}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0]},inputSourceMap:{version:3,file:"/home/manish/Practical_Programs/ts_crud/src/middleware/upload.ts",sources:["/home/manish/Practical_Programs/ts_crud/src/middleware/upload.ts"],names:[],mappings:";;;;;AACA,oDAA4B;AAE5B,wDAAwD;AACxD,6BAA6B;AAC7B,mDAAmD;AACnD,2BAA2B;AAC3B,kBAAkB;AAClB,oDAAoD;AACpD,WAAW;AAEX,yCAAyC;AACzC,0CAA0C;AAC1C,2CAA2C;AAC3C,WAAW;AACX,uCAAuC;AACvC,mEAAmE;AACnE,WAAW;AACX,QAAQ;AACR,kEAAkE;AAClE,OAAO;AAEP,MAAM,gBAAgB,GAAG,gBAAM,CAAC,WAAW,CAAC;IAC1C,WAAW,EAAC,CAAC,GAAG,EAAC,IAAI,EAAC,EAAE,EAAC,EAAE;QACvB,EAAE,CAAC,IAAI,EAAC,oBAAoB,CAAC,CAAA;IACjC,CAAC;IACD,QAAQ,EAAC,CAAC,GAAG,EAAC,IAAI,EAAC,EAAE,EAAC,EAAE;QACpB,EAAE,CAAC,IAAI,EAAC,IAAI,CAAC,GAAG,EAAE,GAAE,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,CAAA;IACjD,CAAC;CACF,CAAC,CAAA;AAEF,MAAM,MAAM,GAAG,IAAA,gBAAM,EAAC,EAAC,OAAO,EAAC,gBAAgB,EAAC,CAAC,CAAA;AAIjD,kBAAe,MAAM,CAAC",sourcesContent:["import express, { Request, Response } from \"express\";\nimport multer from 'multer';\n\n// function imageFilter(req:Request, file:any, cb:any) {\n//   // console.log(\"asfdds\")\n//   //   if (file.mimetype.startsWith(\"images\")) {\n//   //     cb(null, true);\n//   //   } else {\n//   //     cb(\"Please upload only images.\", false);\n//   //   }\n\n//     var storage = multer.diskStorage({\n//       destination: (req, file, cb) => {\n//         cb(null, \"/resources/uploads/\");\n//       },\n//       filename: (req, file, cb) => {\n//         cb(null, `${Date.now()}-bezkoder-${file.originalname}`);\n//       },\n//   });\n//   return multer({ storage: storage, fileFilter: imageFilter });\n//   };\n\nconst fileStrogeEngine = multer.diskStorage({\n  destination:(req,file,cb)=>{\n      cb(null,'resources/uploads/')\n  },\n  filename:(req,file,cb)=>{\n      cb(null,Date.now()+ \"--\" + file.originalname)\n  }\n})\n\nconst upload = multer({storage:fileStrogeEngine})\n\n\n\nexport default upload;"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed49cafd3a3d76ee14a4eed840e55c0f713cc9bb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ngfzeoyt4=function(){return actualCoverage;};}return actualCoverage;}cov_1ngfzeoyt4();var __importDefault=(cov_1ngfzeoyt4().s[0]++,(cov_1ngfzeoyt4().b[0][0]++,this)&&(cov_1ngfzeoyt4().b[0][1]++,this.__importDefault)||(cov_1ngfzeoyt4().b[0][2]++,function(mod){cov_1ngfzeoyt4().f[0]++;cov_1ngfzeoyt4().s[1]++;return(cov_1ngfzeoyt4().b[2][0]++,mod)&&(cov_1ngfzeoyt4().b[2][1]++,mod.__esModule)?(cov_1ngfzeoyt4().b[1][0]++,mod):(cov_1ngfzeoyt4().b[1][1]++,{"default":mod});}));cov_1ngfzeoyt4().s[2]++;Object.defineProperty(exports,"__esModule",{value:true});const multer_1=(cov_1ngfzeoyt4().s[3]++,__importDefault(require("multer")));// function imageFilter(req:Request, file:any, cb:any) {
//   // console.log("asfdds")
//   //   if (file.mimetype.startsWith("images")) {
//   //     cb(null, true);
//   //   } else {
//   //     cb("Please upload only images.", false);
//   //   }
//     var storage = multer.diskStorage({
//       destination: (req, file, cb) => {
//         cb(null, "/resources/uploads/");
//       },
//       filename: (req, file, cb) => {
//         cb(null, `${Date.now()}-bezkoder-${file.originalname}`);
//       },
//   });
//   return multer({ storage: storage, fileFilter: imageFilter });
//   };
const fileStrogeEngine=(cov_1ngfzeoyt4().s[4]++,multer_1.default.diskStorage({destination:(req,file,cb)=>{cov_1ngfzeoyt4().f[1]++;cov_1ngfzeoyt4().s[5]++;cb(null,'resources/uploads/');},filename:(req,file,cb)=>{cov_1ngfzeoyt4().f[2]++;cov_1ngfzeoyt4().s[6]++;cb(null,Date.now()+"--"+file.originalname);}}));const upload=(cov_1ngfzeoyt4().s[7]++,(0,multer_1.default)({storage:fileStrogeEngine}));cov_1ngfzeoyt4().s[8]++;exports.default=upload;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFuaXNoL1ByYWN0aWNhbF9Qcm9ncmFtcy90c19jcnVkL3NyYy9taWRkbGV3YXJlL3VwbG9hZC50cyIsInNvdXJjZXMiOlsiL2hvbWUvbWFuaXNoL1ByYWN0aWNhbF9Qcm9ncmFtcy90c19jcnVkL3NyYy9taWRkbGV3YXJlL3VwbG9hZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLG9EQUE0QjtBQUU1Qix3REFBd0Q7QUFDeEQsNkJBQTZCO0FBQzdCLG1EQUFtRDtBQUNuRCwyQkFBMkI7QUFDM0Isa0JBQWtCO0FBQ2xCLG9EQUFvRDtBQUNwRCxXQUFXO0FBRVgseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQywyQ0FBMkM7QUFDM0MsV0FBVztBQUNYLHVDQUF1QztBQUN2QyxtRUFBbUU7QUFDbkUsV0FBVztBQUNYLFFBQVE7QUFDUixrRUFBa0U7QUFDbEUsT0FBTztBQUVQLE1BQU0sZ0JBQWdCLEdBQUcsZ0JBQU0sQ0FBQyxXQUFXLENBQUM7SUFDMUMsV0FBVyxFQUFDLENBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxFQUFFLEVBQUMsRUFBRTtRQUN2QixFQUFFLENBQUMsSUFBSSxFQUFDLG9CQUFvQixDQUFDLENBQUE7SUFDakMsQ0FBQztJQUNELFFBQVEsRUFBQyxDQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLEVBQUU7UUFDcEIsRUFBRSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0NBQ0YsQ0FBQyxDQUFBO0FBRUYsTUFBTSxNQUFNLEdBQUcsSUFBQSxnQkFBTSxFQUFDLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQTtBQUlqRCxrQkFBZSxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcywgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5cbi8vIGZ1bmN0aW9uIGltYWdlRmlsdGVyKHJlcTpSZXF1ZXN0LCBmaWxlOmFueSwgY2I6YW55KSB7XG4vLyAgIC8vIGNvbnNvbGUubG9nKFwiYXNmZGRzXCIpXG4vLyAgIC8vICAgaWYgKGZpbGUubWltZXR5cGUuc3RhcnRzV2l0aChcImltYWdlc1wiKSkge1xuLy8gICAvLyAgICAgY2IobnVsbCwgdHJ1ZSk7XG4vLyAgIC8vICAgfSBlbHNlIHtcbi8vICAgLy8gICAgIGNiKFwiUGxlYXNlIHVwbG9hZCBvbmx5IGltYWdlcy5cIiwgZmFsc2UpO1xuLy8gICAvLyAgIH1cblxuLy8gICAgIHZhciBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbi8vICAgICAgIGRlc3RpbmF0aW9uOiAocmVxLCBmaWxlLCBjYikgPT4ge1xuLy8gICAgICAgICBjYihudWxsLCBcIi9yZXNvdXJjZXMvdXBsb2Fkcy9cIik7XG4vLyAgICAgICB9LFxuLy8gICAgICAgZmlsZW5hbWU6IChyZXEsIGZpbGUsIGNiKSA9PiB7XG4vLyAgICAgICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LWJlemtvZGVyLSR7ZmlsZS5vcmlnaW5hbG5hbWV9YCk7XG4vLyAgICAgICB9LFxuLy8gICB9KTtcbi8vICAgcmV0dXJuIG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UsIGZpbGVGaWx0ZXI6IGltYWdlRmlsdGVyIH0pO1xuLy8gICB9O1xuXG5jb25zdCBmaWxlU3Ryb2dlRW5naW5lID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgZGVzdGluYXRpb246KHJlcSxmaWxlLGNiKT0+e1xuICAgICAgY2IobnVsbCwncmVzb3VyY2VzL3VwbG9hZHMvJylcbiAgfSxcbiAgZmlsZW5hbWU6KHJlcSxmaWxlLGNiKT0+e1xuICAgICAgY2IobnVsbCxEYXRlLm5vdygpKyBcIi0tXCIgKyBmaWxlLm9yaWdpbmFsbmFtZSlcbiAgfVxufSlcblxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtzdG9yYWdlOmZpbGVTdHJvZ2VFbmdpbmV9KVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkOyJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6InFrSUFhQTsraUJBWkEsNEVBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLEtBQU1BLGlCQUFnQiwwQkFBR0MsaUJBQU9DLFdBQVAsQ0FBbUIsQ0FDMUNDLFdBQVcsQ0FBQyxDQUFDQyxHQUFELENBQUtDLElBQUwsQ0FBVUMsRUFBVixHQUFlLGlEQUN2QkEsRUFBRSxDQUFDLElBQUQsQ0FBTSxvQkFBTixDQUFGLENBQ0gsQ0FIeUMsQ0FJMUNDLFFBQVEsQ0FBQyxDQUFDSCxHQUFELENBQUtDLElBQUwsQ0FBVUMsRUFBVixHQUFlLGlEQUNwQkEsRUFBRSxDQUFDLElBQUQsQ0FBTUUsSUFBSSxDQUFDQyxHQUFMLEdBQVksSUFBWixDQUFtQkosSUFBSSxDQUFDSyxZQUE5QixDQUFGLENBQ0gsQ0FOeUMsQ0FBbkIsQ0FBSCxDQUF0QixDQVNBLEtBQU1DLE9BQU0sMEJBQUcscUJBQU8sQ0FBQ0MsT0FBTyxDQUFDWixnQkFBVCxDQUFQLENBQUgsQ0FBWixDLHdCQUlBYSxnQkFBZUYsTUFBZiIsIm5hbWVzIjpbImZpbGVTdHJvZ2VFbmdpbmUiLCJtdWx0ZXJfMSIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJzdG9yYWdlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi9ob21lL21hbmlzaC9QcmFjdGljYWxfUHJvZ3JhbXMvdHNfY3J1ZC9zcmMvbWlkZGxld2FyZS91cGxvYWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MsIHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuXG4vLyBmdW5jdGlvbiBpbWFnZUZpbHRlcihyZXE6UmVxdWVzdCwgZmlsZTphbnksIGNiOmFueSkge1xuLy8gICAvLyBjb25zb2xlLmxvZyhcImFzZmRkc1wiKVxuLy8gICAvLyAgIGlmIChmaWxlLm1pbWV0eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZXNcIikpIHtcbi8vICAgLy8gICAgIGNiKG51bGwsIHRydWUpO1xuLy8gICAvLyAgIH0gZWxzZSB7XG4vLyAgIC8vICAgICBjYihcIlBsZWFzZSB1cGxvYWQgb25seSBpbWFnZXMuXCIsIGZhbHNlKTtcbi8vICAgLy8gICB9XG5cbi8vICAgICB2YXIgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4vLyAgICAgICBkZXN0aW5hdGlvbjogKHJlcSwgZmlsZSwgY2IpID0+IHtcbi8vICAgICAgICAgY2IobnVsbCwgXCIvcmVzb3VyY2VzL3VwbG9hZHMvXCIpO1xuLy8gICAgICAgfSxcbi8vICAgICAgIGZpbGVuYW1lOiAocmVxLCBmaWxlLCBjYikgPT4ge1xuLy8gICAgICAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS1iZXprb2Rlci0ke2ZpbGUub3JpZ2luYWxuYW1lfWApO1xuLy8gICAgICAgfSxcbi8vICAgfSk7XG4vLyAgIHJldHVybiBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlLCBmaWxlRmlsdGVyOiBpbWFnZUZpbHRlciB9KTtcbi8vICAgfTtcblxuY29uc3QgZmlsZVN0cm9nZUVuZ2luZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGRlc3RpbmF0aW9uOihyZXEsZmlsZSxjYik9PntcbiAgICAgIGNiKG51bGwsJ3Jlc291cmNlcy91cGxvYWRzLycpXG4gIH0sXG4gIGZpbGVuYW1lOihyZXEsZmlsZSxjYik9PntcbiAgICAgIGNiKG51bGwsRGF0ZS5ub3coKSsgXCItLVwiICsgZmlsZS5vcmlnaW5hbG5hbWUpXG4gIH1cbn0pXG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7c3RvcmFnZTpmaWxlU3Ryb2dlRW5naW5lfSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZDsiXX0=