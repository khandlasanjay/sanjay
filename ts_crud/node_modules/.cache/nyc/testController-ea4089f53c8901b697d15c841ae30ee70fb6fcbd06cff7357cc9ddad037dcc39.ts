"use strict";function cov_1t6m75a4vn(){var path="/home/manish/Practical_Programs/ts_crud/src/controller/testController.ts";var hash="f445ec391fa635b019dde93e0e07b43fc4d14c7d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/manish/Practical_Programs/ts_crud/src/controller/testController.ts",statementMap:{"0":{start:{line:2,column:16},end:{line:10,column:1}},"1":{start:{line:3,column:28},end:{line:3,column:110}},"2":{start:{line:3,column:91},end:{line:3,column:106}},"3":{start:{line:4,column:4},end:{line:9,column:7}},"4":{start:{line:5,column:36},end:{line:5,column:97}},"5":{start:{line:5,column:42},end:{line:5,column:70}},"6":{start:{line:5,column:85},end:{line:5,column:95}},"7":{start:{line:6,column:35},end:{line:6,column:100}},"8":{start:{line:6,column:41},end:{line:6,column:73}},"9":{start:{line:6,column:88},end:{line:6,column:98}},"10":{start:{line:7,column:32},end:{line:7,column:116}},"11":{start:{line:8,column:8},end:{line:8,column:78}},"12":{start:{line:11,column:22},end:{line:13,column:1}},"13":{start:{line:12,column:4},end:{line:12,column:62}},"14":{start:{line:14,column:0},end:{line:14,column:62}},"15":{start:{line:15,column:21},end:{line:15,column:69}},"16":{start:{line:16,column:13},end:{line:16,column:43}},"17":{start:{line:17,column:17},end:{line:17,column:51}},"18":{start:{line:18,column:13},end:{line:18,column:38}},"19":{start:{line:21,column:8},end:{line:27,column:11}},"20":{start:{line:21,column:38},end:{line:27,column:10}},"21":{start:{line:22,column:25},end:{line:22,column:47}},"22":{start:{line:23,column:29},end:{line:25,column:13}},"23":{start:{line:26,column:12},end:{line:26,column:43}},"24":{start:{line:28,column:8},end:{line:42,column:11}},"25":{start:{line:28,column:37},end:{line:42,column:10}},"26":{start:{line:30,column:25},end:{line:30,column:33}},"27":{start:{line:32,column:12},end:{line:41,column:15}},"28":{start:{line:34,column:16},end:{line:34,column:34}},"29":{start:{line:35,column:16},end:{line:35,column:43}},"30":{start:{line:38,column:16},end:{line:40,column:19}},"31":{start:{line:43,column:8},end:{line:50,column:11}},"32":{start:{line:43,column:41},end:{line:50,column:10}},"33":{start:{line:44,column:23},end:{line:44,column:36}},"34":{start:{line:45,column:25},end:{line:45,column:48}},"35":{start:{line:46,column:29},end:{line:48,column:13}},"36":{start:{line:49,column:12},end:{line:49,column:43}},"37":{start:{line:51,column:8},end:{line:65,column:11}},"38":{start:{line:51,column:40},end:{line:65,column:10}},"39":{start:{line:52,column:23},end:{line:52,column:36}},"40":{start:{line:54,column:25},end:{line:54,column:33}},"41":{start:{line:56,column:12},end:{line:64,column:15}},"42":{start:{line:58,column:16},end:{line:58,column:43}},"43":{start:{line:61,column:16},end:{line:63,column:19}},"44":{start:{line:66,column:8},end:{line:76,column:11}},"45":{start:{line:66,column:40},end:{line:76,column:10}},"46":{start:{line:67,column:23},end:{line:67,column:36}},"47":{start:{line:69,column:12},end:{line:75,column:15}},"48":{start:{line:71,column:16},end:{line:71,column:43}},"49":{start:{line:74,column:16},end:{line:74,column:42}},"50":{start:{line:77,column:8},end:{line:96,column:11}},"51":{start:{line:77,column:41},end:{line:96,column:10}},"52":{start:{line:78,column:12},end:{line:95,column:13}},"53":{start:{line:79,column:16},end:{line:79,column:46}},"54":{start:{line:82,column:16},end:{line:82,column:47}},"55":{start:{line:83,column:31},end:{line:83,column:82}},"56":{start:{line:84,column:29},end:{line:84,column:37}},"57":{start:{line:85,column:16},end:{line:94,column:19}},"58":{start:{line:87,column:20},end:{line:87,column:38}},"59":{start:{line:88,column:20},end:{line:88,column:47}},"60":{start:{line:91,column:20},end:{line:93,column:23}},"61":{start:{line:97,column:8},end:{line:111,column:11}},"62":{start:{line:97,column:42},end:{line:111,column:10}},"63":{start:{line:99,column:28},end:{line:99,column:48}},"64":{start:{line:102,column:12},end:{line:102,column:79}},"65":{start:{line:103,column:25},end:{line:103,column:47}},"66":{start:{line:104,column:29},end:{line:106,column:13}},"67":{start:{line:107,column:12},end:{line:107,column:53}},"68":{start:{line:110,column:12},end:{line:110,column:28}},"69":{start:{line:115,column:0},end:{line:115,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:44},end:{line:2,column:45}},loc:{start:{line:2,column:89},end:{line:10,column:1}},line:2},"1":{name:"adopt",decl:{start:{line:3,column:13},end:{line:3,column:18}},loc:{start:{line:3,column:26},end:{line:3,column:112}},line:3},"2":{name:"(anonymous_2)",decl:{start:{line:3,column:70},end:{line:3,column:71}},loc:{start:{line:3,column:89},end:{line:3,column:108}},line:3},"3":{name:"(anonymous_3)",decl:{start:{line:4,column:36},end:{line:4,column:37}},loc:{start:{line:4,column:63},end:{line:9,column:5}},line:4},"4":{name:"fulfilled",decl:{start:{line:5,column:17},end:{line:5,column:26}},loc:{start:{line:5,column:34},end:{line:5,column:99}},line:5},"5":{name:"rejected",decl:{start:{line:6,column:17},end:{line:6,column:25}},loc:{start:{line:6,column:33},end:{line:6,column:102}},line:6},"6":{name:"step",decl:{start:{line:7,column:17},end:{line:7,column:21}},loc:{start:{line:7,column:30},end:{line:7,column:118}},line:7},"7":{name:"(anonymous_7)",decl:{start:{line:11,column:56},end:{line:11,column:57}},loc:{start:{line:11,column:71},end:{line:13,column:1}},line:11},"8":{name:"(anonymous_8)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:18},end:{line:112,column:5}},line:20},"9":{name:"(anonymous_9)",decl:{start:{line:21,column:24},end:{line:21,column:25}},loc:{start:{line:21,column:38},end:{line:27,column:10}},line:21},"10":{name:"(anonymous_10)",decl:{start:{line:21,column:70},end:{line:21,column:71}},loc:{start:{line:21,column:83},end:{line:27,column:9}},line:21},"11":{name:"(anonymous_11)",decl:{start:{line:28,column:23},end:{line:28,column:24}},loc:{start:{line:28,column:37},end:{line:42,column:10}},line:28},"12":{name:"(anonymous_12)",decl:{start:{line:28,column:69},end:{line:28,column:70}},loc:{start:{line:28,column:82},end:{line:42,column:9}},line:28},"13":{name:"(anonymous_13)",decl:{start:{line:33,column:22},end:{line:33,column:23}},loc:{start:{line:33,column:32},end:{line:36,column:13}},line:33},"14":{name:"(anonymous_14)",decl:{start:{line:37,column:23},end:{line:37,column:24}},loc:{start:{line:37,column:32},end:{line:41,column:13}},line:37},"15":{name:"(anonymous_15)",decl:{start:{line:43,column:27},end:{line:43,column:28}},loc:{start:{line:43,column:41},end:{line:50,column:10}},line:43},"16":{name:"(anonymous_16)",decl:{start:{line:43,column:73},end:{line:43,column:74}},loc:{start:{line:43,column:86},end:{line:50,column:9}},line:43},"17":{name:"(anonymous_17)",decl:{start:{line:51,column:26},end:{line:51,column:27}},loc:{start:{line:51,column:40},end:{line:65,column:10}},line:51},"18":{name:"(anonymous_18)",decl:{start:{line:51,column:72},end:{line:51,column:73}},loc:{start:{line:51,column:85},end:{line:65,column:9}},line:51},"19":{name:"(anonymous_19)",decl:{start:{line:57,column:22},end:{line:57,column:23}},loc:{start:{line:57,column:32},end:{line:59,column:13}},line:57},"20":{name:"(anonymous_20)",decl:{start:{line:60,column:23},end:{line:60,column:24}},loc:{start:{line:60,column:32},end:{line:64,column:13}},line:60},"21":{name:"(anonymous_21)",decl:{start:{line:66,column:26},end:{line:66,column:27}},loc:{start:{line:66,column:40},end:{line:76,column:10}},line:66},"22":{name:"(anonymous_22)",decl:{start:{line:66,column:72},end:{line:66,column:73}},loc:{start:{line:66,column:85},end:{line:76,column:9}},line:66},"23":{name:"(anonymous_23)",decl:{start:{line:70,column:22},end:{line:70,column:23}},loc:{start:{line:70,column:32},end:{line:72,column:13}},line:70},"24":{name:"(anonymous_24)",decl:{start:{line:73,column:23},end:{line:73,column:24}},loc:{start:{line:73,column:32},end:{line:75,column:13}},line:73},"25":{name:"(anonymous_25)",decl:{start:{line:77,column:27},end:{line:77,column:28}},loc:{start:{line:77,column:41},end:{line:96,column:10}},line:77},"26":{name:"(anonymous_26)",decl:{start:{line:77,column:73},end:{line:77,column:74}},loc:{start:{line:77,column:86},end:{line:96,column:9}},line:77},"27":{name:"(anonymous_27)",decl:{start:{line:86,column:26},end:{line:86,column:27}},loc:{start:{line:86,column:36},end:{line:89,column:17}},line:86},"28":{name:"(anonymous_28)",decl:{start:{line:90,column:27},end:{line:90,column:28}},loc:{start:{line:90,column:36},end:{line:94,column:17}},line:90},"29":{name:"(anonymous_29)",decl:{start:{line:97,column:28},end:{line:97,column:29}},loc:{start:{line:97,column:42},end:{line:111,column:10}},line:97},"30":{name:"(anonymous_30)",decl:{start:{line:97,column:74},end:{line:97,column:75}},loc:{start:{line:97,column:87},end:{line:111,column:9}},line:97}},branchMap:{"0":{loc:{start:{line:2,column:16},end:{line:10,column:1}},type:"binary-expr",locations:[{start:{line:2,column:17},end:{line:2,column:21}},{start:{line:2,column:25},end:{line:2,column:39}},{start:{line:2,column:44},end:{line:10,column:1}}],line:2},"1":{loc:{start:{line:3,column:35},end:{line:3,column:109}},type:"cond-expr",locations:[{start:{line:3,column:56},end:{line:3,column:61}},{start:{line:3,column:64},end:{line:3,column:109}}],line:3},"2":{loc:{start:{line:4,column:16},end:{line:4,column:34}},type:"binary-expr",locations:[{start:{line:4,column:16},end:{line:4,column:17}},{start:{line:4,column:22},end:{line:4,column:33}}],line:4},"3":{loc:{start:{line:7,column:32},end:{line:7,column:115}},type:"cond-expr",locations:[{start:{line:7,column:46},end:{line:7,column:67}},{start:{line:7,column:70},end:{line:7,column:115}}],line:7},"4":{loc:{start:{line:8,column:51},end:{line:8,column:67}},type:"binary-expr",locations:[{start:{line:8,column:51},end:{line:8,column:61}},{start:{line:8,column:65},end:{line:8,column:67}}],line:8},"5":{loc:{start:{line:11,column:22},end:{line:13,column:1}},type:"binary-expr",locations:[{start:{line:11,column:23},end:{line:11,column:27}},{start:{line:11,column:31},end:{line:11,column:51}},{start:{line:11,column:56},end:{line:13,column:1}}],line:11},"6":{loc:{start:{line:12,column:11},end:{line:12,column:61}},type:"cond-expr",locations:[{start:{line:12,column:37},end:{line:12,column:40}},{start:{line:12,column:43},end:{line:12,column:61}}],line:12},"7":{loc:{start:{line:12,column:12},end:{line:12,column:33}},type:"binary-expr",locations:[{start:{line:12,column:12},end:{line:12,column:15}},{start:{line:12,column:19},end:{line:12,column:33}}],line:12},"8":{loc:{start:{line:39,column:29},end:{line:39,column:90}},type:"binary-expr",locations:[{start:{line:39,column:29},end:{line:39,column:40}},{start:{line:39,column:44},end:{line:39,column:90}}],line:39},"9":{loc:{start:{line:62,column:29},end:{line:62,column:90}},type:"binary-expr",locations:[{start:{line:62,column:29},end:{line:62,column:40}},{start:{line:62,column:44},end:{line:62,column:90}}],line:62},"10":{loc:{start:{line:78,column:12},end:{line:95,column:13}},type:"if",locations:[{start:{line:78,column:12},end:{line:95,column:13}},{start:{line:78,column:12},end:{line:95,column:13}}],line:78},"11":{loc:{start:{line:92,column:33},end:{line:92,column:94}},type:"binary-expr",locations:[{start:{line:92,column:33},end:{line:92,column:44}},{start:{line:92,column:48},end:{line:92,column:94}}],line:92}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},inputSourceMap:{version:3,file:"/home/manish/Practical_Programs/ts_crud/src/controller/testController.ts",sources:["/home/manish/Practical_Programs/ts_crud/src/controller/testController.ts"],names:[],mappings:"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",sourcesContent:["import { Request, Response } from \"express\";\nimport db from \"../models/connection\";\nimport fs from \"fs\";\nimport PDFGenerator from \"pdfkit\";\nconst Cars=db.Cars;\n\nclass CarsController{\n\n    public viewCars = async (req:Request, res:Response)=>{\n        const cars = await Cars.findAll({ });\n            const response = {  \n                data:cars,\n            }\n            res.status(200).json(response)  \n    }\n\n    public addCars = async (req:Request, res:Response)=>{\n\n        // Create a cars\n        const cars = req.body;\n\n        // Save cars in the database\n        await Cars.create(cars)\n            .then((data:any)=> {\n                console.log(cars);\n            res.status(200).send(data);\n            })\n            .catch((err:any)=> {\n            res.status(500).send({\n                message:\n                err.message || \"Some error occurred while creating the Cars.\"\n            });\n        });\n    };\n\n    public findOneCars = async (req:Request, res:Response)=>{\n\n        const id = req.params.id;\n\n        const cars = await Cars.findByPk(id)\n        const response = {  \n            data:cars,\n        }\n        res.status(200).json(response) \n    }\n\n    public updateCars = async (req:Request, res:Response)=>{\n\n        const id = req.params.id;\n\n        // Update the cars\n        const cars = req.body;\n\n        // update query\n        await Cars.update(cars,{ where: { id : id } })\n            .then((data:any)=> {\n            res.status(200).json(data);\n            })\n            .catch((err:any)=> {\n            res.status(500).send({\n                message:\n                err.message || \"Some error occurred while updating the Cars.\"\n            });\n        });\n\n    }\n\n    public deleteCars = async (req:Request, res:Response)=>{\n\n        const id  = req.params.id;\n\n        // const cars = req.body;\n\n        await Cars.destroy({ where:{ id: id}})\n        .then((data:any) =>{\n            res.status(200).json(data);\n        })\n        .catch((err:any) =>{\n            res.status(500).json(err);\n        })\n    }\n\n    public imageUpload = async (req:Request, res:Response)=>{\n             \n        if (!req.file) {\n            console.log(\"No file upload\");\n        } else {\n            console.log(req.file.filename)\n            const imgsrc = 'http://127.0.0.1:3000/images/' + req.file.filename\n\n            const cars = req.body;\n            \n            await Cars.create({ images:imgsrc,...cars })\n                .then((data:any)=> {\n                    console.log(data);\n                    res.status(200).send(data);\n            })\n                .catch((err:any)=> {\n                res.status(500).send({\n                    message:\n                    err.message || \"Some error occurred while creating the Cars.\"\n                });\n            });\n        }\n    }\n\n    public pdfGenerator = async (req:Request, res:Response)=>{\n      \n        // instantiate the library\n        let theOutput = new PDFGenerator \n        //const cars = req.body;\n        // pipe to a writable stream which would save the result into the same directory\n        theOutput.pipe(fs.createWriteStream('CarsDocument.pdf'))\n        \n        const cars = await Cars.findAll({ });\n            const response:any = {  \n                data:cars,\n            }\n            \n        theOutput.text(JSON.stringify(response));\n        // res.send(`<%%>`)\n\n        // write out file\n        theOutput.end();\n    }\n\n};\n\nexport default CarsController;"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f445ec391fa635b019dde93e0e07b43fc4d14c7d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1t6m75a4vn=function(){return actualCoverage;};}return actualCoverage;}cov_1t6m75a4vn();var __awaiter=(cov_1t6m75a4vn().s[0]++,(cov_1t6m75a4vn().b[0][0]++,this)&&(cov_1t6m75a4vn().b[0][1]++,this.__awaiter)||(cov_1t6m75a4vn().b[0][2]++,function(thisArg,_arguments,P,generator){cov_1t6m75a4vn().f[0]++;function adopt(value){cov_1t6m75a4vn().f[1]++;cov_1t6m75a4vn().s[1]++;return value instanceof P?(cov_1t6m75a4vn().b[1][0]++,value):(cov_1t6m75a4vn().b[1][1]++,new P(function(resolve){cov_1t6m75a4vn().f[2]++;cov_1t6m75a4vn().s[2]++;resolve(value);}));}cov_1t6m75a4vn().s[3]++;return new((cov_1t6m75a4vn().b[2][0]++,P)||(cov_1t6m75a4vn().b[2][1]++,P=Promise))(function(resolve,reject){cov_1t6m75a4vn().f[3]++;function fulfilled(value){cov_1t6m75a4vn().f[4]++;cov_1t6m75a4vn().s[4]++;try{cov_1t6m75a4vn().s[5]++;step(generator.next(value));}catch(e){cov_1t6m75a4vn().s[6]++;reject(e);}}function rejected(value){cov_1t6m75a4vn().f[5]++;cov_1t6m75a4vn().s[7]++;try{cov_1t6m75a4vn().s[8]++;step(generator["throw"](value));}catch(e){cov_1t6m75a4vn().s[9]++;reject(e);}}function step(result){cov_1t6m75a4vn().f[6]++;cov_1t6m75a4vn().s[10]++;result.done?(cov_1t6m75a4vn().b[3][0]++,resolve(result.value)):(cov_1t6m75a4vn().b[3][1]++,adopt(result.value).then(fulfilled,rejected));}cov_1t6m75a4vn().s[11]++;step((generator=generator.apply(thisArg,(cov_1t6m75a4vn().b[4][0]++,_arguments)||(cov_1t6m75a4vn().b[4][1]++,[]))).next());});}));var __importDefault=(cov_1t6m75a4vn().s[12]++,(cov_1t6m75a4vn().b[5][0]++,this)&&(cov_1t6m75a4vn().b[5][1]++,this.__importDefault)||(cov_1t6m75a4vn().b[5][2]++,function(mod){cov_1t6m75a4vn().f[7]++;cov_1t6m75a4vn().s[13]++;return(cov_1t6m75a4vn().b[7][0]++,mod)&&(cov_1t6m75a4vn().b[7][1]++,mod.__esModule)?(cov_1t6m75a4vn().b[6][0]++,mod):(cov_1t6m75a4vn().b[6][1]++,{"default":mod});}));cov_1t6m75a4vn().s[14]++;Object.defineProperty(exports,"__esModule",{value:true});const connection_1=(cov_1t6m75a4vn().s[15]++,__importDefault(require("../models/connection")));const fs_1=(cov_1t6m75a4vn().s[16]++,__importDefault(require("fs")));const pdfkit_1=(cov_1t6m75a4vn().s[17]++,__importDefault(require("pdfkit")));const Cars=(cov_1t6m75a4vn().s[18]++,connection_1.default.Cars);class CarsController{constructor(){cov_1t6m75a4vn().f[8]++;cov_1t6m75a4vn().s[19]++;this.viewCars=(req,res)=>{cov_1t6m75a4vn().f[9]++;cov_1t6m75a4vn().s[20]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[10]++;const cars=(cov_1t6m75a4vn().s[21]++,yield Cars.findAll({}));const response=(cov_1t6m75a4vn().s[22]++,{data:cars});cov_1t6m75a4vn().s[23]++;res.status(200).json(response);});};cov_1t6m75a4vn().s[24]++;this.addCars=(req,res)=>{cov_1t6m75a4vn().f[11]++;cov_1t6m75a4vn().s[25]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[12]++;// Create a cars
const cars=(cov_1t6m75a4vn().s[26]++,req.body);// Save cars in the database
cov_1t6m75a4vn().s[27]++;yield Cars.create(cars).then(data=>{cov_1t6m75a4vn().f[13]++;cov_1t6m75a4vn().s[28]++;console.log(cars);cov_1t6m75a4vn().s[29]++;res.status(200).send(data);}).catch(err=>{cov_1t6m75a4vn().f[14]++;cov_1t6m75a4vn().s[30]++;res.status(500).send({message:(cov_1t6m75a4vn().b[8][0]++,err.message)||(cov_1t6m75a4vn().b[8][1]++,"Some error occurred while creating the Cars.")});});});};cov_1t6m75a4vn().s[31]++;this.findOneCars=(req,res)=>{cov_1t6m75a4vn().f[15]++;cov_1t6m75a4vn().s[32]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[16]++;const id=(cov_1t6m75a4vn().s[33]++,req.params.id);const cars=(cov_1t6m75a4vn().s[34]++,yield Cars.findByPk(id));const response=(cov_1t6m75a4vn().s[35]++,{data:cars});cov_1t6m75a4vn().s[36]++;res.status(200).json(response);});};cov_1t6m75a4vn().s[37]++;this.updateCars=(req,res)=>{cov_1t6m75a4vn().f[17]++;cov_1t6m75a4vn().s[38]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[18]++;const id=(cov_1t6m75a4vn().s[39]++,req.params.id);// Update the cars
const cars=(cov_1t6m75a4vn().s[40]++,req.body);// update query
cov_1t6m75a4vn().s[41]++;yield Cars.update(cars,{where:{id:id}}).then(data=>{cov_1t6m75a4vn().f[19]++;cov_1t6m75a4vn().s[42]++;res.status(200).json(data);}).catch(err=>{cov_1t6m75a4vn().f[20]++;cov_1t6m75a4vn().s[43]++;res.status(500).send({message:(cov_1t6m75a4vn().b[9][0]++,err.message)||(cov_1t6m75a4vn().b[9][1]++,"Some error occurred while updating the Cars.")});});});};cov_1t6m75a4vn().s[44]++;this.deleteCars=(req,res)=>{cov_1t6m75a4vn().f[21]++;cov_1t6m75a4vn().s[45]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[22]++;const id=(cov_1t6m75a4vn().s[46]++,req.params.id);// const cars = req.body;
cov_1t6m75a4vn().s[47]++;yield Cars.destroy({where:{id:id}}).then(data=>{cov_1t6m75a4vn().f[23]++;cov_1t6m75a4vn().s[48]++;res.status(200).json(data);}).catch(err=>{cov_1t6m75a4vn().f[24]++;cov_1t6m75a4vn().s[49]++;res.status(500).json(err);});});};cov_1t6m75a4vn().s[50]++;this.imageUpload=(req,res)=>{cov_1t6m75a4vn().f[25]++;cov_1t6m75a4vn().s[51]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[26]++;cov_1t6m75a4vn().s[52]++;if(!req.file){cov_1t6m75a4vn().b[10][0]++;cov_1t6m75a4vn().s[53]++;console.log("No file upload");}else{cov_1t6m75a4vn().b[10][1]++;cov_1t6m75a4vn().s[54]++;console.log(req.file.filename);const imgsrc=(cov_1t6m75a4vn().s[55]++,'http://127.0.0.1:3000/images/'+req.file.filename);const cars=(cov_1t6m75a4vn().s[56]++,req.body);cov_1t6m75a4vn().s[57]++;yield Cars.create(Object.assign({images:imgsrc},cars)).then(data=>{cov_1t6m75a4vn().f[27]++;cov_1t6m75a4vn().s[58]++;console.log(data);cov_1t6m75a4vn().s[59]++;res.status(200).send(data);}).catch(err=>{cov_1t6m75a4vn().f[28]++;cov_1t6m75a4vn().s[60]++;res.status(500).send({message:(cov_1t6m75a4vn().b[11][0]++,err.message)||(cov_1t6m75a4vn().b[11][1]++,"Some error occurred while creating the Cars.")});});}});};cov_1t6m75a4vn().s[61]++;this.pdfGenerator=(req,res)=>{cov_1t6m75a4vn().f[29]++;cov_1t6m75a4vn().s[62]++;return __awaiter(this,void 0,void 0,function*(){cov_1t6m75a4vn().f[30]++;// instantiate the library
let theOutput=(cov_1t6m75a4vn().s[63]++,new pdfkit_1.default());//const cars = req.body;
// pipe to a writable stream which would save the result into the same directory
cov_1t6m75a4vn().s[64]++;theOutput.pipe(fs_1.default.createWriteStream('CarsDocument.pdf'));const cars=(cov_1t6m75a4vn().s[65]++,yield Cars.findAll({}));const response=(cov_1t6m75a4vn().s[66]++,{data:cars});cov_1t6m75a4vn().s[67]++;theOutput.text(JSON.stringify(response));// res.send(`<%%>`)
// write out file
cov_1t6m75a4vn().s[68]++;theOutput.end();});};}};cov_1t6m75a4vn().s[69]++;exports.default=CarsController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbWFuaXNoL1ByYWN0aWNhbF9Qcm9ncmFtcy90c19jcnVkL3NyYy9jb250cm9sbGVyL3Rlc3RDb250cm9sbGVyLnRzIiwic291cmNlcyI6WyIvaG9tZS9tYW5pc2gvUHJhY3RpY2FsX1Byb2dyYW1zL3RzX2NydWQvc3JjL2NvbnRyb2xsZXIvdGVzdENvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDQSxzRUFBc0M7QUFDdEMsNENBQW9CO0FBQ3BCLG9EQUFrQztBQUNsQyxNQUFNLElBQUksR0FBQyxvQkFBRSxDQUFDLElBQUksQ0FBQztBQUVuQixNQUFNLGNBQWM7SUFBcEI7UUFFVyxhQUFRLEdBQUcsQ0FBTyxHQUFXLEVBQUUsR0FBWSxFQUFDLEVBQUU7WUFDakQsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUcsQ0FBQyxDQUFDO1lBQ2pDLE1BQU0sUUFBUSxHQUFHO2dCQUNiLElBQUksRUFBQyxJQUFJO2FBQ1osQ0FBQTtZQUNELEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RDLENBQUMsQ0FBQSxDQUFBO1FBRU0sWUFBTyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBQyxFQUFFO1lBRWhELGdCQUFnQjtZQUNoQixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1lBRXRCLDRCQUE0QjtZQUM1QixNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO2lCQUNsQixJQUFJLENBQUMsQ0FBQyxJQUFRLEVBQUMsRUFBRTtnQkFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0QixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzQixDQUFDLENBQUM7aUJBQ0QsS0FBSyxDQUFDLENBQUMsR0FBTyxFQUFDLEVBQUU7Z0JBQ2xCLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO29CQUNqQixPQUFPLEVBQ1AsR0FBRyxDQUFDLE9BQU8sSUFBSSw4Q0FBOEM7aUJBQ2hFLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFBLENBQUM7UUFFSyxnQkFBVyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBQyxFQUFFO1lBRXBELE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBRXpCLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUNwQyxNQUFNLFFBQVEsR0FBRztnQkFDYixJQUFJLEVBQUMsSUFBSTthQUNaLENBQUE7WUFDRCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUNsQyxDQUFDLENBQUEsQ0FBQTtRQUVNLGVBQVUsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUMsRUFBRTtZQUVuRCxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUV6QixrQkFBa0I7WUFDbEIsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztZQUV0QixlQUFlO1lBQ2YsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRyxFQUFFLEVBQUUsRUFBRSxDQUFDO2lCQUN6QyxJQUFJLENBQUMsQ0FBQyxJQUFRLEVBQUMsRUFBRTtnQkFDbEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0IsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxDQUFDLEdBQU8sRUFBQyxFQUFFO2dCQUNsQixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDakIsT0FBTyxFQUNQLEdBQUcsQ0FBQyxPQUFPLElBQUksOENBQThDO2lCQUNoRSxDQUFDLENBQUM7WUFDUCxDQUFDLENBQUMsQ0FBQztRQUVQLENBQUMsQ0FBQSxDQUFBO1FBRU0sZUFBVSxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBQyxFQUFFO1lBRW5ELE1BQU0sRUFBRSxHQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBRTFCLHlCQUF5QjtZQUV6QixNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFDLEVBQUMsQ0FBQztpQkFDckMsSUFBSSxDQUFDLENBQUMsSUFBUSxFQUFFLEVBQUU7Z0JBQ2YsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0IsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxDQUFDLEdBQU8sRUFBRSxFQUFFO2dCQUNmLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFBLENBQUE7UUFFTSxnQkFBVyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBQyxFQUFFO1lBRXBELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFO2dCQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzthQUNqQztpQkFBTTtnQkFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7Z0JBQzlCLE1BQU0sTUFBTSxHQUFHLCtCQUErQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFBO2dCQUVsRSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUV0QixNQUFNLElBQUksQ0FBQyxNQUFNLGlCQUFHLE1BQU0sRUFBQyxNQUFNLElBQUksSUFBSSxFQUFHO3FCQUN2QyxJQUFJLENBQUMsQ0FBQyxJQUFRLEVBQUMsRUFBRTtvQkFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNsQixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbkMsQ0FBQyxDQUFDO3FCQUNHLEtBQUssQ0FBQyxDQUFDLEdBQU8sRUFBQyxFQUFFO29CQUNsQixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQzt3QkFDakIsT0FBTyxFQUNQLEdBQUcsQ0FBQyxPQUFPLElBQUksOENBQThDO3FCQUNoRSxDQUFDLENBQUM7Z0JBQ1AsQ0FBQyxDQUFDLENBQUM7YUFDTjtRQUNMLENBQUMsQ0FBQSxDQUFBO1FBRU0saUJBQVksR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUMsRUFBRTtZQUVyRCwwQkFBMEI7WUFDMUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxnQkFBWSxDQUFBO1lBQ2hDLHdCQUF3QjtZQUN4QixnRkFBZ0Y7WUFDaEYsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFFLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFBO1lBRXhELE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFHLENBQUMsQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBTztnQkFDakIsSUFBSSxFQUFDLElBQUk7YUFDWixDQUFBO1lBRUwsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDekMsbUJBQW1CO1lBRW5CLGlCQUFpQjtZQUNqQixTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFBLENBQUE7SUFFTCxDQUFDO0NBQUE7QUFBQSxDQUFDO0FBRUYsa0JBQWUsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGRiIGZyb20gXCIuLi9tb2RlbHMvY29ubmVjdGlvblwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IFBERkdlbmVyYXRvciBmcm9tIFwicGRma2l0XCI7XG5jb25zdCBDYXJzPWRiLkNhcnM7XG5cbmNsYXNzIENhcnNDb250cm9sbGVye1xuXG4gICAgcHVibGljIHZpZXdDYXJzID0gYXN5bmMgKHJlcTpSZXF1ZXN0LCByZXM6UmVzcG9uc2UpPT57XG4gICAgICAgIGNvbnN0IGNhcnMgPSBhd2FpdCBDYXJzLmZpbmRBbGwoeyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geyAgXG4gICAgICAgICAgICAgICAgZGF0YTpjYXJzLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzcG9uc2UpICBcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ2FycyA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNhcnNcbiAgICAgICAgY29uc3QgY2FycyA9IHJlcS5ib2R5O1xuXG4gICAgICAgIC8vIFNhdmUgY2FycyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgYXdhaXQgQ2Fycy5jcmVhdGUoY2FycylcbiAgICAgICAgICAgIC50aGVuKChkYXRhOmFueSk9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2Fycyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycjphbnkpPT4ge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgfHwgXCJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIGNyZWF0aW5nIHRoZSBDYXJzLlwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBmaW5kT25lQ2FycyA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcblxuICAgICAgICBjb25zdCBjYXJzID0gYXdhaXQgQ2Fycy5maW5kQnlQayhpZClcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7ICBcbiAgICAgICAgICAgIGRhdGE6Y2FycyxcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXNwb25zZSkgXG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUNhcnMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSk9PntcblxuICAgICAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjYXJzXG4gICAgICAgIGNvbnN0IGNhcnMgPSByZXEuYm9keTtcblxuICAgICAgICAvLyB1cGRhdGUgcXVlcnlcbiAgICAgICAgYXdhaXQgQ2Fycy51cGRhdGUoY2Fycyx7IHdoZXJlOiB7IGlkIDogaWQgfSB9KVxuICAgICAgICAgICAgLnRoZW4oKGRhdGE6YW55KT0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyOmFueSk9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIENhcnMuXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVDYXJzID0gYXN5bmMgKHJlcTpSZXF1ZXN0LCByZXM6UmVzcG9uc2UpPT57XG5cbiAgICAgICAgY29uc3QgaWQgID0gcmVxLnBhcmFtcy5pZDtcblxuICAgICAgICAvLyBjb25zdCBjYXJzID0gcmVxLmJvZHk7XG5cbiAgICAgICAgYXdhaXQgQ2Fycy5kZXN0cm95KHsgd2hlcmU6eyBpZDogaWR9fSlcbiAgICAgICAgLnRoZW4oKGRhdGE6YW55KSA9PntcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycjphbnkpID0+e1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgaW1hZ2VVcGxvYWQgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSk9PntcbiAgICAgICAgICAgICBcbiAgICAgICAgaWYgKCFyZXEuZmlsZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJObyBmaWxlIHVwbG9hZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5maWxlLmZpbGVuYW1lKVxuICAgICAgICAgICAgY29uc3QgaW1nc3JjID0gJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9pbWFnZXMvJyArIHJlcS5maWxlLmZpbGVuYW1lXG5cbiAgICAgICAgICAgIGNvbnN0IGNhcnMgPSByZXEuYm9keTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgQ2Fycy5jcmVhdGUoeyBpbWFnZXM6aW1nc3JjLC4uLmNhcnMgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YTphbnkpPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyOmFueSk9PiB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIENhcnMuXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBkZkdlbmVyYXRvciA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuICAgICAgXG4gICAgICAgIC8vIGluc3RhbnRpYXRlIHRoZSBsaWJyYXJ5XG4gICAgICAgIGxldCB0aGVPdXRwdXQgPSBuZXcgUERGR2VuZXJhdG9yIFxuICAgICAgICAvL2NvbnN0IGNhcnMgPSByZXEuYm9keTtcbiAgICAgICAgLy8gcGlwZSB0byBhIHdyaXRhYmxlIHN0cmVhbSB3aGljaCB3b3VsZCBzYXZlIHRoZSByZXN1bHQgaW50byB0aGUgc2FtZSBkaXJlY3RvcnlcbiAgICAgICAgdGhlT3V0cHV0LnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0oJ0NhcnNEb2N1bWVudC5wZGYnKSlcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcnMgPSBhd2FpdCBDYXJzLmZpbmRBbGwoeyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOmFueSA9IHsgIFxuICAgICAgICAgICAgICAgIGRhdGE6Y2FycyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB0aGVPdXRwdXQudGV4dChKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpO1xuICAgICAgICAvLyByZXMuc2VuZChgPCUlPmApXG5cbiAgICAgICAgLy8gd3JpdGUgb3V0IGZpbGVcbiAgICAgICAgdGhlT3V0cHV0LmVuZCgpO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2Fyc0NvbnRyb2xsZXI7Il19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBaEIsQ0FBcUIsQ0FDakJHLE9BQU8sQ0FDUCxnQ0FBRyxDQUFDQSxPQUFKLGdDQUFlLDhDQUFmLENBRmlCLENBQXJCLEVBSUgsQ0FWSyxDQUFOLENBV0gsQ0FDSixDQXRCdUQsRUFzQnZELENBdEJNLENBNUVYLHlCQW9HVyxrQkFBZSxDQUFPaEIsR0FBUCxDQUFvQkMsR0FBcEIsR0FBbUMsNEhBRXJEO0FBQ0EsR0FBSTJCLFVBQVMsMkJBQUcsR0FBSUMsaUJBQUosRUFBSCxDQUFiLENBQ0E7QUFDQTtBQUxxRCx5QkFNckRELFNBQVMsQ0FBQ0UsSUFBVixDQUFlQyxhQUFHQyxpQkFBSCxDQUFxQixrQkFBckIsQ0FBZixFQUVBLEtBQU05QixLQUFJLDJCQUFHLEtBQU1OLEtBQUksQ0FBQ08sT0FBTCxDQUFhLEVBQWIsQ0FBVCxDQUFWLENBQ0ksS0FBTUMsU0FBUSwyQkFBTyxDQUNqQkMsSUFBSSxDQUFDSCxJQURZLENBQVAsQ0FBZCxDQVRpRCx5QkFhckQwQixTQUFTLENBQUNLLElBQVYsQ0FBZUMsSUFBSSxDQUFDQyxTQUFMLENBQWUvQixRQUFmLENBQWYsRUFDQTtBQUVBO0FBaEJxRCx5QkFpQnJEd0IsU0FBUyxDQUFDUSxHQUFWLEdBQ0gsQ0FsQndELEVBa0J4RCxDQWxCTSxDQW9CVixDQXhIbUIsQ0F3SG5CLEMseUJBRURDLGdCQUFldkMsY0FBZiIsIm5hbWVzIjpbIkNhcnMiLCJjb25uZWN0aW9uXzEiLCJDYXJzQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwicmVxIiwicmVzIiwiY2FycyIsImZpbmRBbGwiLCJyZXNwb25zZSIsImRhdGEiLCJzdGF0dXMiLCJqc29uIiwiYm9keSIsImNyZWF0ZSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwic2VuZCIsImNhdGNoIiwiZXJyIiwibWVzc2FnZSIsImlkIiwicGFyYW1zIiwiZmluZEJ5UGsiLCJ1cGRhdGUiLCJ3aGVyZSIsImRlc3Ryb3kiLCJmaWxlIiwiZmlsZW5hbWUiLCJpbWdzcmMiLCJPYmplY3QiLCJpbWFnZXMiLCJ0aGVPdXRwdXQiLCJwZGZraXRfMSIsInBpcGUiLCJmc18xIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJ0ZXh0IiwiSlNPTiIsInN0cmluZ2lmeSIsImVuZCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIvaG9tZS9tYW5pc2gvUHJhY3RpY2FsX1Byb2dyYW1zL3RzX2NydWQvc3JjL2NvbnRyb2xsZXIvdGVzdENvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGRiIGZyb20gXCIuLi9tb2RlbHMvY29ubmVjdGlvblwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IFBERkdlbmVyYXRvciBmcm9tIFwicGRma2l0XCI7XG5jb25zdCBDYXJzPWRiLkNhcnM7XG5cbmNsYXNzIENhcnNDb250cm9sbGVye1xuXG4gICAgcHVibGljIHZpZXdDYXJzID0gYXN5bmMgKHJlcTpSZXF1ZXN0LCByZXM6UmVzcG9uc2UpPT57XG4gICAgICAgIGNvbnN0IGNhcnMgPSBhd2FpdCBDYXJzLmZpbmRBbGwoeyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geyAgXG4gICAgICAgICAgICAgICAgZGF0YTpjYXJzLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzcG9uc2UpICBcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ2FycyA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNhcnNcbiAgICAgICAgY29uc3QgY2FycyA9IHJlcS5ib2R5O1xuXG4gICAgICAgIC8vIFNhdmUgY2FycyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgYXdhaXQgQ2Fycy5jcmVhdGUoY2FycylcbiAgICAgICAgICAgIC50aGVuKChkYXRhOmFueSk9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2Fycyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycjphbnkpPT4ge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgfHwgXCJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIGNyZWF0aW5nIHRoZSBDYXJzLlwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBmaW5kT25lQ2FycyA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcblxuICAgICAgICBjb25zdCBjYXJzID0gYXdhaXQgQ2Fycy5maW5kQnlQayhpZClcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7ICBcbiAgICAgICAgICAgIGRhdGE6Y2FycyxcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXNwb25zZSkgXG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUNhcnMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSk9PntcblxuICAgICAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjYXJzXG4gICAgICAgIGNvbnN0IGNhcnMgPSByZXEuYm9keTtcblxuICAgICAgICAvLyB1cGRhdGUgcXVlcnlcbiAgICAgICAgYXdhaXQgQ2Fycy51cGRhdGUoY2Fycyx7IHdoZXJlOiB7IGlkIDogaWQgfSB9KVxuICAgICAgICAgICAgLnRoZW4oKGRhdGE6YW55KT0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyOmFueSk9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIENhcnMuXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVDYXJzID0gYXN5bmMgKHJlcTpSZXF1ZXN0LCByZXM6UmVzcG9uc2UpPT57XG5cbiAgICAgICAgY29uc3QgaWQgID0gcmVxLnBhcmFtcy5pZDtcblxuICAgICAgICAvLyBjb25zdCBjYXJzID0gcmVxLmJvZHk7XG5cbiAgICAgICAgYXdhaXQgQ2Fycy5kZXN0cm95KHsgd2hlcmU6eyBpZDogaWR9fSlcbiAgICAgICAgLnRoZW4oKGRhdGE6YW55KSA9PntcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycjphbnkpID0+e1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgaW1hZ2VVcGxvYWQgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSk9PntcbiAgICAgICAgICAgICBcbiAgICAgICAgaWYgKCFyZXEuZmlsZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJObyBmaWxlIHVwbG9hZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5maWxlLmZpbGVuYW1lKVxuICAgICAgICAgICAgY29uc3QgaW1nc3JjID0gJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9pbWFnZXMvJyArIHJlcS5maWxlLmZpbGVuYW1lXG5cbiAgICAgICAgICAgIGNvbnN0IGNhcnMgPSByZXEuYm9keTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgQ2Fycy5jcmVhdGUoeyBpbWFnZXM6aW1nc3JjLC4uLmNhcnMgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YTphbnkpPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyOmFueSk9PiB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIENhcnMuXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBkZkdlbmVyYXRvciA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlKT0+e1xuICAgICAgXG4gICAgICAgIC8vIGluc3RhbnRpYXRlIHRoZSBsaWJyYXJ5XG4gICAgICAgIGxldCB0aGVPdXRwdXQgPSBuZXcgUERGR2VuZXJhdG9yIFxuICAgICAgICAvL2NvbnN0IGNhcnMgPSByZXEuYm9keTtcbiAgICAgICAgLy8gcGlwZSB0byBhIHdyaXRhYmxlIHN0cmVhbSB3aGljaCB3b3VsZCBzYXZlIHRoZSByZXN1bHQgaW50byB0aGUgc2FtZSBkaXJlY3RvcnlcbiAgICAgICAgdGhlT3V0cHV0LnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0oJ0NhcnNEb2N1bWVudC5wZGYnKSlcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcnMgPSBhd2FpdCBDYXJzLmZpbmRBbGwoeyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOmFueSA9IHsgIFxuICAgICAgICAgICAgICAgIGRhdGE6Y2FycyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB0aGVPdXRwdXQudGV4dChKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpO1xuICAgICAgICAvLyByZXMuc2VuZChgPCUlPmApXG5cbiAgICAgICAgLy8gd3JpdGUgb3V0IGZpbGVcbiAgICAgICAgdGhlT3V0cHV0LmVuZCgpO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2Fyc0NvbnRyb2xsZXI7Il19